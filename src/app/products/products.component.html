<div class="parent">


  <div class="product-card poppins-thin">
    <div class="heading">
      <img loading="lazy" [src]="'http://localhost:8000/uploads/' + products?.image" alt="Product Image"
        class="product-image">

      <h2>{{ products?.productName }}</h2>

      <p>
        
        <mat-form-field appearance="outline">
          <mat-label>Select Currency</mat-label>
          <mat-select  [(ngModel)]="selectedCurrency" (selectionChange)="onCurrencyChange($event)">
            <mat-option *ngFor="let currency of currencyList" [value]="currency">
              {{ currency }}
            </mat-option>
          </mat-select>
        </mat-form-field>
        &nbsp; <strong><span style="color: red;">*</span>Price:</strong> &nbsp;
        
        
        <!-- <select (change)="onCurrencyChange($event)" > 
          <option *ngFor="let currency of currencyList" [value]="currency">
            {{ currency }}
          </option>
        </select>&nbsp; -->

        <!-- Clickable Flag Icon for Currency Selection -->
        <span style="cursor: pointer;" (click)="toggleCurrencyDropdown()">
          <img [src]="'https://flagcdn.com/w40/' + currencyFlags[selectedCurrency] + '.png'" width="30" height="20"
            alt="No Image">

        </span>

        <!-- Display Converted Price -->
        <span style="color: rgb(241, 16, 16);">
          {{ convertedPrice | number:'1.2-2' }} {{ selectedCurrency }}
        </span> / Kilogram
      



      <!-- Input Fields for Quantity and Total Amount -->
      <div style="display: flex; gap: 15px; margin-left: 20px;">
        <input style="width: 30%;" type="tel" placeholder="Quantity (Ton)" class="custom-input" [(ngModel)]="quantity"
          (input)="calculateTotalAmount()" [value]="quantity === 0 ? 'Quantity (Ton)' : quantity" />

        <input type="text" placeholder="Total Amount" class="custom-input"
          [value]="(totalAmount | number:'1.2-2') + ' ' + selectedCurrency" readonly />

        <input type="text" placeholder="Total Amount (INR)" class="custom-input"
          [value]="(totalAmountInINR | number:'1.2-2') + ' INR'" readonly />

      </div>
    </div>



    <div class="product-details">


      <p style="border: none; border-bottom: 2px solid black;"><strong>BusinessType: </strong> &nbsp;{{
        products?.businessType}}</p>
      <p style="border: none; border-bottom: 2px solid black;"><strong>Certification: </strong> &nbsp;{{
        products?.certification}}</p>
      <p style="border: none; border-bottom: 2px solid black;"><strong>CultivationType:</strong> &nbsp;{{
        products?.cultivationType}}</p>
      <p style="border: none; border-bottom: 2px solid black;"><strong>ShelfLife: </strong> &nbsp;{{
        products?.shelfLife}}</p>
      <p style="border: none; border-bottom: 2px solid black;"><strong>Location: </strong> &nbsp;{{ products?.location}}
      </p>
      <p style="border: none; border-bottom: 2px solid black;"><strong>PackagingType: </strong> &nbsp;{{
        products?.packagingType}}</p>
      <p style="border: none; border-bottom: 2px solid black;"><strong>PackSize: </strong> &nbsp;{{ products?.packSize}}
      </p>
      <p style="border: none; border-bottom: 1px solid black;"><strong>Moisture: </strong> &nbsp;{{ products?.moisture}}
      </p>
      <!-- Razorpay Payment Button -->

      <button type="button" class="btn btn-success btn-lg btn-block" id="rzp-button1" style="width: 100%;"
        (click)="userDetails()" >Checkout</button>
    </div>
  </div>








































































































  <div class="product-detail-list">

  </div>
  <div>
    <div class="container">
      <h2 class="section-title">Explore More Products</h2>

      <div class="scroll-buttons">
        <!-- Left Button -->
        <button mat-button color="primary" class="scroll-btn left" (click)="scrollLeft()">&#9665;</button>
        <!-- Right Button -->
        <button mat-button color="primary" class="scroll-btn right" (click)="scrollRight()">&#9655;</button>
      </div>

      <div class="product-list" #scrollContainer>
        <!-- Loop through products -->
        <mat-card class="product-card1" *ngFor="let product of getAllList">
          <div (click)="getProductDetails(product)">
            <img mat-card-image [src]="'http://localhost:8000/uploads/' + product?.image" alt="Product Image">
            <mat-card-content>
              <h3>{{ product?.productName }}</h3>
              <p><strong><span style="color: red;">*</span>Price:</strong><span style="color: rgb(241, 16, 16);">${{
                  product?.price }}</span>/ Kilogram </p>
            </mat-card-content>
          </div>

        </mat-card>
      </div>
    </div>
  </div>
</div>

<!-- //////////////Create Checkout model //////////////////// -->
<!-- Large modal -->
<!-- <button type="button" class="btn btn-primary" data-toggle="modal" data-target=".bd-example-modal-lg">Large modal</button>

<div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div>

      </div>
      ...
    </div>
  </div>
</div> -->