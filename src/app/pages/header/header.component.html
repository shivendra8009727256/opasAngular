<nav [class.hidden]="isHidden" (mouseleave)="closeMenuOnMouseLeave()">
  <!-- Left: Company Logo -->
  <div routerLink="/register" class="logo-container" (click)="closeMenuOnMouseLeave()">
    <img style="cursor: pointer;" src="/opasLogo.png" alt="Company Logo" class="logo-img">
  </div>

  <!-- Hamburger Menu Button (Mobile) -->
  <button class="hamburger-btn" (click)="toggleMenu()">
    <span class="bar"></span>
    <span class="bar"></span>
    <span class="bar"></span>
  </button>

  <!-- Right: Navigation Links -->
  <div>
    <ul [class.show]="isMenuOpen">
      <li><a routerLink="/home">HOME</a></li>
      <li><a routerLink="/about">ABOUT</a></li>
      <li><a routerLink="/products">PRODUCTS</a></li>
      <li><a routerLink="/certificate">CERTIFICATE</a></li>
      <li><a routerLink="/blog">BLOG</a></li>
      <li><a routerLink="/contact">CONTACT</a></li>
    </ul>
  </div>

  <!-- User Details Section (Shown if user is logged in) -->
  <div *ngIf="isLoggedIn ===true && userName; else loginSignupSection" class="user-details">
   
    <img 
  style="cursor: pointer;" 
  [src]="userData?.profileImage ? 'http://localhost:8000' + userData.profileImage : '/userLogo.png'" 
  alt="User Image" class="user-image"
  
>
    <div class="user-info">
      <span class="user-name">{{userName}}</span>
      <span class="user-gst">GST:{{gstNo}}</span>
    </div>
    <!-- Dropdown Button -->
    <button class="dropdown-btn" (click)="toggleDropdown()">&#9660;</button>
    <!-- Dropdown Menu -->
    <div class="dropdown-menu" *ngIf="isDropdownOpen">
      <a (click)="navigateToProfile()">Profile</a>
      <a (click)="logout()">Logout</a>
    </div>
  </div>

  <!-- Login/Signup Buttons (Shown if user is not logged in) -->
  <ng-template #loginSignupSection>
    <div class="auth-buttons">
      <button routerLink="/register" class="auth-cta">Sign In/Up</button>
      <!-- <button routerLink="/register" class="auth-button">Sign Up</button> -->
    </div>
  </ng-template>

  <!-- <ng-template #loginSignupSection>
    <button class="auth-cta auth-buttons" routerLink="/register" >
      <span class="primary">Sign IN</span><span class="secondary">/ Sign Up</span>
  </button>
  </ng-template> -->

</nav>